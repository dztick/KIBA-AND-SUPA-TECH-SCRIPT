-- [KIBA TECH - DASH Q]
local Players = game:GetService("Players")
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local UIS = game:GetService("UserInputService")

local player = Players.LocalPlayer
local DashRemote = ReplicatedStorage.Resources.Brother["#Friend"].Communicate

-- State
local enabled = false

-- GUI notif kanan bawah
local pg = player:WaitForChild("PlayerGui")
local gui = Instance.new("ScreenGui", pg); gui.ResetOnSpawn = false
local text = Instance.new("TextLabel", gui)
text.Size = UDim2.new(0,150,0,30)
text.Position = UDim2.new(1,-160,1,-50)
text.BackgroundTransparency = 0.3
text.BackgroundColor3 = Color3.fromRGB(20,20,20)
text.TextColor3 = Color3.fromRGB(255,0,0)
text.Font = Enum.Font.Code
text.TextSize = 16
text.Text = "[KIBA TECH] OFF"

-- Fungsi dash Q
local function doKibaDash()
    if not enabled then return end
    DashRemote:FireServer({
        [1] = {
            ["Dash"] = Enum.KeyCode.W, -- maju (bisa diganti arah sesuai input)
            ["Key"]  = Enum.KeyCode.Q,
            ["Goal"] = "KeyPress"
        }
    })
end

-- Toggle pakai R
UIS.InputBegan:Connect(function(input,gp)
    if gp then return end
    if input.KeyCode == Enum.KeyCode.R then
        enabled = not enabled
        text.Text = "[KIBA TECH] " .. (enabled and "ON" or "OFF")
        text.TextColor3 = enabled and Color3.fromRGB(0,255,0) or Color3.fromRGB(255,0,0)

        if enabled then
            doKibaDash()
        end
    end
end)
